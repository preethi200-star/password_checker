import re

def check_password_strength(password):
    """
    Evaluates the strength of a password based on several criteria.
    """
    # Criteria flags
    length_ok = len(password) >= 8
    has_upper = re.search(r'[A-Z]', password) is not None
    has_lower = re.search(r'[a-z]', password) is not None
    has_digit = re.search(r'\d', password) is not None
    # Allowed special characters: _ @ $ ! # % ^ & * ( ) , . ? " : { } | < >
    has_special = re.search(r'[_@$!#$%^&*(),.?":{}|<>\\-]', password) is not None # Note: hyphen added to list
    no_spaces = re.search(r'\s', password) is None
    
    # List of unmet criteria for user feedback
    unmet_criteria = []
    if not length_ok:
        unmet_criteria.append("At least 8 characters long")
    if not has_upper:
        unmet_criteria.append("At least one uppercase letter")
    if not has_lower:
        unmet_criteria.append("At least one lowercase letter")
    if not has_digit:
        unmet_criteria.append("At least one digit")
    if not has_special:
        unmet_criteria.append("At least one special character")
    if not no_spaces:
        unmet_criteria.append("No spaces allowed")

    # Determine strength
    if length_ok and has_upper and has_lower and has_digit and has_special and no_spaces:
        return "Strong", []
    else:
        return "Weak", unmet_criteria

# Main part of the script for user interaction
if __name__ == "__main__":
    print("Welcome to the Password Strength Checker!")
    while True:
        password = input("Enter a password to check (or 'quit' to exit): ")
        if password.lower() == 'quit':
            break
        strength, feedback = check_password_strength(password)
        print(f"The password is: **{strength}**")
        if feedback:
            print("To make it strong, please add the following:")
            for criterion in feedback:
                print(f"- {criterion}")
        print("-" * 20)

